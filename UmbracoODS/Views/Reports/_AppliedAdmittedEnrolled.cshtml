@inherits Umbraco.Web.Mvc.UmbracoTemplatePage

<link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />

<script defer src="https://code.highcharts.com/highcharts.js"></script>
<script defer src="https://code.highcharts.com/modules/funnel.js"></script>
<script defer src="https://code.highcharts.com/highcharts-more.js"></script>
<script defer src="https://code.highcharts.com/modules/exporting.js"></script>
<script defer src="https://code.highcharts.com/modules/export-data.js"></script>
<script defer src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

<script defer src="~/scripts/Reports/AppliedAdmittedEnrolled.js"></script>

<style>


  table.dataTable thead th,
  table.dataTable thead td,
  table.dataTable tbody td,
  table.dataTable tfoot th,
  table.dataTable tfoot td {
    padding: 8px 11px;
    border-bottom: none;
    font-weight: normal;
  }

    table.dataTable thead th:not(:first-child),
    table.dataTable thead td:not(:first-child),
    table.dataTable tbody td:not(:first-child),
    table.dataTable tfoot th:not(:first-child),
    table.dataTable tfoot td:not(:first-child) {
      text-align: right;
    }

  table.dataTable.no-footer {
    border-bottom: none;
  }


  table.dataTable.hover > tbody > tr:hover td {
    background-image: linear-gradient( 180deg, rgba(0,0,0,.07), rgba(0,0,0,.07)) !important;
  }

  /*td.first-column,
    table.dataTable tfoot th.headcount-column {
      padding: 8px 10px;
    }*/

  th:first-child,
  td:first-child,
  table.dataTable tfoot th:first-child {
    text-align: left;
  }

  td.headcount-column,
  th.headcount-column,
  table.dataTable tfoot th.headcount-column {
    text-align: right;
  }

  table.dataTable tfoot th.race-ethnicity-column {
    padding: 8px 10px;
  }

  table.dataTable th:first-child {
    width: 44%;
  }



  table.dataTable thead th,
  table.dataTable thead td {
    border-bottom: 3px solid #dcdcdc;
  }


  table.dataTable tfoot th,
  table.dataTable tfoot td {
    border-top: 3px solid #dcdcdc;
  }


  /* Dropdown container styling */
  .input-group-prepend {
    margin-right: -1px;
  }

  .input-group-append, .input-group-prepend {
    display: -ms-flexbox;
    display: flex;
  }


  .input-group {
    position: relative;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    -ms-flex-align: stretch;
    align-items: stretch;
    width: 100%;
  }

    .input-group > .input-group-prepend > .input-group-text {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

  /* Dropdown styling */
  .input-group-text {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-align: center;
    align-items: center;
    padding: .375rem .75rem;
    margin-bottom: 0;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: #495057;
    text-align: center;
    white-space: nowrap;
    background-color: #e9ecef;
    border: 1px solid #e9ecef; /*#ced4da;*/
    border-radius: .25rem;
  }

  /* Margin for non-first dropdown, making spacing */
  .input-group:not(:first-child) {
    margin-left: 2em;
  }



  option[value=""][disabled] {
    display: none;
  }


  table.dataTable thead .sorting:first-child,
  table.dataTable thead .sorting_asc:first-child,
  table.dataTable thead .sorting_desc:first-child {
    background-position: -2% 50%;
  }

  table.dataTable thead .sorting,
  table.dataTable thead .sorting_asc,
  table.dataTable thead .sorting_desc {
    background-position: 105% 50%;
  }

  .applied-column,
  .admitted-divby-applied-column {
    border-right: 1px #ccc solid;
  }

  .admitted-column,
  .admitted-divby-applied-column {
    /*background-color: #ffe8e8;*/
  }

  .enrolled-column,
  .enrolled-divby-admitted-column {
    /*background-color: #ffc9c8;*/
  }


  .chart-margin {
    margin-top: 2.313em;
  }

  .row-margin {
    margin-bottom: 2rem !important;
  }
</style>

<script>



  const rootUrl = '@HttpContext.Current.Request.ApplicationPath' !== '/' ? '@HttpContext.Current.Request.ApplicationPath' : '';

  const defaultYearsBack = 5

  const yearsBack = Number.isInteger(@Umbraco.Field("yearsBack"))
    ? @Umbraco.Field("yearsBack") : defaultYearsBack;




  window.onload = function () {
    updateAll(rootUrl, yearsBack);
  };

</script>